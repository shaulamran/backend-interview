---
id: cy4xx
name: How Expression parser Works
file_version: 1.0.2
app_version: 0.9.1-5
file_blobs:
  src/expression-parser/expressionToTree.ts: c65b5c025c8b85ee41869e2eed4ee1cde6cdf982
---

This function is the entry point to the parser logic. It receives an expression as a string as it was received from the web client and starts a recursive parsing logic using a binary tree.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/expression-parser/expressionToTree.ts
```typescript
â¬œ 1      import {Equal, GreaterThan, LowerThan, AndOperator, OrOperator, NotOperator, Expression} from './expressionClasses';
â¬œ 2      
ðŸŸ© 3      function expressionToTree(expression: string, obj: Record<string, string>) : Expression {
â¬œ 4        // Removing whitespaces and quotation marks
â¬œ 5        expression = expression
â¬œ 6          .replace(/\s/g, '')
```

<br/>

There are two kinds of operators: Atomic and Complex.  
Atomic operator means that it holds two an expression that can be calculated.

Complex operator means that it holds two more expressions in it and they can be either complex themselves or atomic, hence the recursion in the function.

Each operator has a parsing function for a single atomic expression or a complex one.

There is one special operator called `NOT` which isn't atomic but also doesn't have two expressions in it, but one instead it has its own special parsing function called `parseNotExpression`.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/expression-parser/expressionToTree.ts
```typescript
â¬œ 13       return parsingFunc(expression, className, obj);
â¬œ 14     }
â¬œ 15     
ðŸŸ© 16     const operatorToClassMap = {
â¬œ 17       EQUAL: { className: Equal, parsingFunc: parseAtomicExpression },
â¬œ 18       GREATER_THAN: { className: GreaterThan, parsingFunc: parseAtomicExpression },
â¬œ 19       LOWER_THAN: { className: LowerThan, parsingFunc: parseAtomicExpression },
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBYmFja2VuZC1pbnRlcnZpZXclM0ElM0FzaGF1bGFtcmFu/docs/cy4xx).